/*
Inspired by ModernCSS.dev
https://moderncss.dev/modern-css-for-dynamic-component-based-architecture/#creating-variant-styles-with-has

The `.sr-only` class refers to the "screen reader only" util which
removes the visible text but still allows screen readers to
access it.
*/
:where(.button) {
  /* Base */
  &:where(:has(svg), &.icon-only) {
    gap: 1ex;

    & svg {
      fill: currentColor;
    }
  }

  /* Icon-only */
  &:where(:has(.sr-only), &.icon-only) {
    --_text-color: inherit;

    aspect-ratio: 1;
    border: 0;
    border-radius: var(--button-border-radius);
    gap: 0;
    padding: 0.5ex;

    svg {
      inline-size: 85%;
    }

    &.small {
      padding: 0.125ex;
      & * {
        scale: 0.9;
        transform-origin: center;
      }
    }

    &.large {
      padding: 1ex;
      & * {
        scale: 1.1;
        transform-origin: center;
      }
    }
  }
}
