:where(.select) {
  background-color: transparent;
  border-radius: var(--input-border-radius);
  border: var(--input-border-width) solid var(--input-border-color);
  font-family: var(--font-sans);
  min-inline-size: 0;
  transition: all 0.15s var(--ease-2);

  &.auto-width {
    field-sizing: content;
  }

  button {
    background-color: transparent;
    margin: 0;
    padding: 0;
  }

  /* Default arrow */
  &:after {
    display: none;
  }

  button {
    /* Arrow */
    &:after {
      block-size: 0;
      border-block-start: 5px solid;
      border-inline: 5px solid transparent;
      content: "";
      display: inline-block;
      inline-size: 0;
      margin-inline-start: var(--size-2);
      translate: 0 -50%;
    }
  }

  /* Select popover */
  &::picker(select) {
    border: 0;
    box-shadow: var(--shadow-2);
    padding: 0;
  }

  .list {
    /* Groups */
    optgroup {
      padding-inline: 0;
      position: relative;

      &:before {
        background-color: light-dark(var(--gray-2), var(--gray-12));
        color: light-dark(
          color-mix(in oklch, var(--text-color-1) 75%, white),
          color-mix(in oklch, var(--text-color-1) 75%, black)
        );
        content: attr(label);
        display: block;
        font-size: var(--font-size-xs);
        font-weight: 500;
        inset-block-start: 0;
        inset-inline: 0;
        padding-block: var(--size-1);
        padding-inline: var(--size-3);
        cursor: default;
        position: absolute;
      }

      &:not(:nth-child(1)) {
        margin-block-start: var(--size-2);
      }

      option:first-of-type {
        margin-block-start: var(--size-2);
      }

      option:last-of-type {
        margin-block-end: var(--size-2);
      }
    }

    /* Option */
    option {
      /* Checkmark */
      &:before {
        pointer-events: none;
      }

      &:focus-visible {
        outline-offset: -1px;
      }
    }
  }
}
